!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.reste=e()}}(function(){return function e(t,r,n){function o(i,a){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return 2===l.length?l(i,!0):l(i);if(s&&2===s.length)return s(i,!0);if(s)return s(i);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};t[i][0].call(u.exports,function(e){var r=t[i][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[i].exports}var i=Array.prototype.slice;Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{enumerable:!1,configurable:!0,writable:!0,value:function(e){function t(){return r.apply(this instanceof t&&e?this:e,n.concat(i.call(arguments)))}if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=this,n=i.call(arguments,1);return t.prototype=Object.create(r.prototype),t.prototype.contructor=t,t}});for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){(function(e){var r=function(){function t(t){i.debug&&e.log(t)}function r(e,r,n){function o(e){try{JSON.parse(e)}catch(t){return!1}return!0}function a(e){return o(e)?JSON.parse(e):e}function l(){!e.params||"POST"!==e.method&&"PUT"!==e.method?c.send():u?c.send(e.params):c.send(JSON.stringify(e.params))}t("::RESTE:: "+(i.url?i.url+e.url:e.url)),e.params&&t("::RESTE:: "+JSON.stringify(e.params));var c=Ti.Network.createHTTPClient(),u=!1;if(c.setTimeout(i.timeout||1e4),c.open(e.method,i.url?i.url+e.url:e.url),s.forEach(function(e){"Content-Type"==e.name&&"application/x-www-form-urlencoded"==e.value&&(u=!0),c.setRequestHeader(e.name,"function"==typeof e.value?e.value:e.value)}),e.headers)for(header in e.headers)u="Content-Type"==header&&"application/x-www-form-urlencoded"==e.headers[header]?!0:"Content-Type"==header&&"application/json"==e.headers[header]?!1:!0,c.setRequestHeader(header,"function"==typeof e.headers[header]?e.headers[header]():e.headers[header]);c.onload=function(e){var t=a(c.responseText);i.onLoad?i.onLoad(t,r):r&&r(t)},c.onerror=function(t){if(t.url=e.url,n)n(a(c.responseText));else if(i.onError)i.onError(a(c.responseText));else{if(!r)throw"RESTe :: No error handler / callback for: "+e.url;r(a(c.responseText))}},"POST"==e.method&&i.beforePost?(e.params=e.params||{},i.beforePost(e.params,function(t){e.params=t}),l()):l()}function n(){o.addModel=function(e){o.modelConfig=o.modelConfig||{},o.modelConfig[e.name]=e;var t=Backbone.Model.extend({_type:e.name,_method:e.name});e.collections&&e.collections.forEach(function(r){Alloy.Collections[r.name]=Alloy.Collections[r.name]||new Backbone.Collection,Alloy.Collections[r.name]._type=e.name,Alloy.Collections[r.name]._name=r.name,Alloy.Collections[r.name].model=t})},Backbone.sync=function(t,r,n){e.log(t+r._type);var i=o.modelConfig[r._type];if(r instanceof Backbone.Collection){var s=_.where(i.collections,{name:r._name})[0],a=o[s.read];a(n,function(e){n.success&&e[s.content]&&(e[s.content]?(e[s.content].forEach(function(e){e.id=e[i.id]}),n.success(e[s.content])):(e.forEach(function(e){e.id=e[i.id]}),n.success(e)))})}else if(r instanceof Backbone.Model){if("update"==t){var l={};l[i.id]=r.id,l.body=r,o[i.update](l,function(e){n.success(e)})}if("read"==t&&i.read&&o[i.read](n,function(e){if(i.content){var t=e[i.content];1==t.length&&n.success(t[0])}else n.success(e)}),"create"==t&&o[i.create]({body:r},function(e){e.id=e[i.id],n.success(e)}),"delete"==t){var l={};l[i.id]=r.id,l.body=r,o[i["delete"]](l,function(e){n.success(e)})}}}}var o=this,i={},s=[];return o.config=function(e){i=e,o.setRequestHeaders(i.requestHeaders),i.methods.forEach(function(e){o.addMethod(e)}),i.models&&(n(),i.models.forEach(function(e){o.addModel(e)}))},o.setRequestHeaders=function(e){s=[];for(header in e)s.push({name:header,value:e[header]})},o.addMethod=function(t){e.log(t.requestHeaders),o[t.name]=function(e,n){var o,s,a,l="GET";if(t.post&&(l="POST"),t.get&&(l="GET"),t.put&&(l="PUT"),t["delete"]&&(l="DELETE"),s=t[l.toLowerCase()]||t.get,n||"function"!=typeof e)for(param in e)if("body"===param)o=e[param];else for(;s.indexOf("<"+param+">")>=0;)s="object"==typeof e[param]?s.replace("<"+param+">",JSON.stringify(e[param])):s.replace("<"+param+">",e[param]);else n=e;if(t.onLoad){var c=n;n=function(e){t.onLoad(e,c)}}if(t.onError&&(a=function(e){t.onError(e,n)}),t.expects)t.expects.forEach(function(r){if("POST"==l&&e.body?!e.body[r]:!e[r])throw"RESTe :: missing parameter "+r+" for method "+t.name}),r({url:s,method:l,params:o,headers:t.requestHeaders||t.headers},n,a);else{var u,d=[],p=/(\<\w*\>)/g;if(i.autoValidateParams)for(;null!=(u=p.exec(s));)u.index===p.lastIndex&&p.lastIndex++,d.push(u[0]);if(d.length>0)throw"RESTe :: missing parameter/s "+d+" for method "+t.name;r({url:s,method:l,params:o,headers:t.requestHeaders||t.headers},n,a)}}},o.createModel=function(e,t){var r=new Backbone.Model(t);return r._type=e,r},o.createCollection=function(e,t){if(Alloy.Collections[e]||(Alloy.Collections[e]=new Backbone.Collection),!(t instanceof Array))throw"No Array specified for createCollection";Alloy.Collections[e].reset(t)},o};t.exports=r}).call(this,e("--console--"))},{"--console--":10}],2:[function(e,t,r){t.exports=function(){return this}(),t.exports.location={}},{}],3:[function(e,t,r){(function(e){function r(){}var n=t.exports={};n.nextTick=function(t){e(t,0)},n.title="titanium",n.titanium=!0,n.env={},n.argv=[],n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.stdout={},n.stderr={},n.stdout.write=function(e){Ti.API.info(e)},n.stderr.write=function(e){Ti.API.error(e)},"addEventListener removeEventListener removeListener hasEventListener fireEvent emit on off".split(" ").forEach(function(e){n[e]=r})}).call(this,e("--timers--").setTimeout)},{"--timers--":4}],4:[function(e,t,r){(function(e){function r(t){try{return e.clearInterval(t)}catch(r){return void 0}}function n(t){try{return e.clearTimeout(t)}catch(r){return void 0}}function o(t,r){for(var n=[],o=2,i=arguments.length;i>o;++o)n[o-2]=arguments[o];return e.setInterval(function(){t.apply(this,n)},+r)}function i(t,r){for(var n=[],o=2,i=arguments.length;i>o;++o)n[o-2]=arguments[o];return e.setTimeout(function(){t.apply(this,n)},+r)}t.exports.clearInterval=r,t.exports.clearTimeout=n,t.exports.setInterval=o,t.exports.setTimeout=i}).call(this,e("--global--"))},{"--global--":2}],5:[function(e,t,r){function n(e,t){return h.isUndefined(t)?""+t:h.isNumber(t)&&!isFinite(t)?t.toString():h.isFunction(t)||h.isRegExp(t)?t.toString():t}function o(e,t){return h.isString(e)?e.length<t?e:e.slice(0,t):e}function i(e){return o(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+o(JSON.stringify(e.expected,n),128)}function s(e,t,r,n,o){throw new g.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function a(e,t){e||s(e,!0,t,"==",g.ok)}function l(e,t){if(e===t)return!0;if(h.isBuffer(e)&&h.isBuffer(t)){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return h.isDate(e)&&h.isDate(t)?e.getTime()===t.getTime():h.isRegExp(e)&&h.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:h.isObject(e)||h.isObject(t)?u(e,t):e==t}function c(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(h.isNullOrUndefined(e)||h.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(h.isPrimitive(e)||h.isPrimitive(t))return e===t;var r=c(e),n=c(t);if(r&&!n||!r&&n)return!1;if(r)return e=f.call(e),t=f.call(t),l(e,t);var o,i,s=_(e),a=_(t);if(s.length!=a.length)return!1;for(s.sort(),a.sort(),i=s.length-1;i>=0;i--)if(s[i]!=a[i])return!1;for(i=s.length-1;i>=0;i--)if(o=s[i],!l(e[o],t[o]))return!1;return!0}function d(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function p(e,t,r,n){var o;h.isString(r)&&(n=r,r=null);try{t()}catch(i){o=i}if(n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&s(o,r,"Missing expected exception"+n),!e&&d(o,r)&&s(o,r,"Got unwanted exception"+n),e&&o&&r&&!d(o,r)||!e&&o)throw o}var h=e("util/"),f=Array.prototype.slice,m=Object.prototype.hasOwnProperty,g=t.exports=a;g.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var t=e.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=t.name,a=n.indexOf("\n"+o);if(a>=0){var l=n.indexOf("\n",a+1);n=n.substring(l+1)}this.stack=n}}},h.inherits(g.AssertionError,Error),g.fail=s,g.ok=a,g.equal=function(e,t,r){e!=t&&s(e,t,r,"==",g.equal)},g.notEqual=function(e,t,r){e==t&&s(e,t,r,"!=",g.notEqual)},g.deepEqual=function(e,t,r){l(e,t)||s(e,t,r,"deepEqual",g.deepEqual)},g.notDeepEqual=function(e,t,r){l(e,t)&&s(e,t,r,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(e,t,r){e!==t&&s(e,t,r,"===",g.strictEqual)},g.notStrictEqual=function(e,t,r){e===t&&s(e,t,r,"!==",g.notStrictEqual)},g["throws"]=function(e,t,r){p.apply(this,[!0].concat(f.call(arguments)))},g.doesNotThrow=function(e,t){p.apply(this,[!1].concat(f.call(arguments)))},g.ifError=function(e){if(e)throw e};var _=Object.keys||function(e){var t=[];for(var r in e)m.call(e,r)&&t.push(r);return t}},{"util/":8}],6:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n,o){function i(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(t)?n.showHidden=t:t&&r._extend(n,t),E(n.showHidden)&&(n.showHidden=!1),E(n.depth)&&(n.depth=2),E(n.colors)&&(n.colors=!1),E(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,e,n.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function a(e,t){return e}function l(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function c(e,t,n){if(e.customInspect&&t&&I(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return b(o)||(o=c(e,o,n)),o}var i=u(e,t);if(i)return i;var s=Object.keys(t),a=l(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),x(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(t);if(0===s.length){if(I(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(A(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return d(t)}var _="",y=!1,v=["{","}"];if(m(t)&&(y=!0,v=["[","]"]),I(t)){var T=t.name?": "+t.name:"";_=" [Function"+T+"]"}if(A(t)&&(_=" "+RegExp.prototype.toString.call(t)),S(t)&&(_=" "+Date.prototype.toUTCString.call(t)),x(t)&&(_=" "+d(t)),0===s.length&&(!y||0==t.length))return v[0]+_+v[1];if(0>n)return A(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=y?p(e,t,n,a,s):s.map(function(r){return h(e,t,n,a,r,y)}),e.seen.pop(),f(E,_,v)}function u(e,t){if(E(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,o){for(var i=[],s=0,a=t.length;a>s;++s)L(t,String(s))?i.push(h(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,r,n,o,!0))}),i}function h(e,t,r,n,o,i){var s,a,l;if(l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},l.get?a=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(a=e.stylize("[Setter]","special")),L(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(l.value)<0?(a=_(r)?c(e,l.value,null):c(e,l.value,r-1),a.indexOf("\n")>-1&&(a=i?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),E(s)){if(i&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function m(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function _(e){return null===e}function y(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function T(e){return"symbol"==typeof e}function E(e){return void 0===e}function A(e){return w(e)&&"[object RegExp]"===P(e)}function w(e){return"object"==typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===P(e)}function x(e){return w(e)&&("[object Error]"===P(e)||e instanceof Error)}function I(e){return"function"==typeof e}function k(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function P(e){return Object.prototype.toString.call(e)}function O(e){return 10>e?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),U[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var N=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(N,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),a=n[r];o>r;a=n[++r])s+=_(a)||!w(a)?" "+a:" "+i(a);return s},r.deprecate=function(e,i){function s(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?o.trace(i):o.error(i),a=!0}return e.apply(this,arguments)}if(E(n.process))return function(){return r.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return s};var R,M={};r.debuglog=function(e){if(E(R)&&(R=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!M[e])if(new RegExp("\\b"+e+"\\b","i").test(R)){var n=t.pid;M[e]=function(){var t=r.format.apply(r,arguments);o.error("%s %d: %s",e,n,t)}}else M[e]=function(){};return M[e]},r.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=m,r.isBoolean=g,r.isNull=_,r.isNullOrUndefined=y,r.isNumber=v,r.isString=b,r.isSymbol=T,r.isUndefined=E,r.isRegExp=A,r.isObject=w,r.isDate=S,r.isError=x,r.isFunction=I,r.isPrimitive=k,r.isBuffer=e("./support/isBuffer");var U=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){o.log("%s - %s",C(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("--process--"),e("--global--"),e("--console--"))},{"--console--":10,"--global--":2,"--process--":3,"./support/isBuffer":7,inherits:6}],9:[function(e,t,r){function n(){return(new Date).getTime()}t.exports=n},{}],10:[function(e,t,r){var n=e("util"),o=e("date-now"),i={},s={},a=[["log","info"],["info","info"],["warn","warn"],["error","error"]];a.forEach(function(e){i[e[0]]=function(){Ti.API[e[1]](n.format.apply(n,arguments))}}),i.time=function(e){s[e]=o()},i.timeEnd=function(e){var t=s[e];if(!t)throw new Error("No such label: "+e);var r=o()-t;i.log(e+": "+r+"ms")},i.trace=function(){var e=new Error;e.name="Trace",e.message=n.format.apply(null,arguments),i.error(e.stack)},i.dir=function(e){i.log(n.inspect(e)+"\n")},i.assert=function(t){if(!t){var r=Array.prototype.slice.call(arguments,1);e("assert").ok(!1,n.format.apply(null,r))}},t.exports=i},{assert:5,"date-now":9,util:8}]},{},[1])(1)});